<?xml version="1.0"?>
<addon scheme="3.0">
    <id>departments</id>
    <version>4.15.2.0</version>
    <priority>2800</priority>
    <position>100</position>
    <status>active</status>
	<has_icon>Y</has_icon>
    <settings layout="separate" edition_type="ROOT,ULT:VENDOR">
        <sections>
            <section id="departments">
                <items>
                    <item id="departments_per_page">
                        <type>input</type>
                        <default_value>3</default_value>
                    </item>
                     <item id="admin_departments_per_page">
                        <type>input</type>
                        <default_value>10</default_value>
                    </item>
                </items>
            </section>
        </sections>
    </settings>
    <queries>
        <item for="install">
            CREATE TABLE `?:departments` (
                `department_id` INT(11) unsigned NOT NULL auto_increment,
                `status` varchar(1) NOT NULL default 'A',
                `timestamp` INT(11) unsigned NOT NULL default '0', 
                `admin_id` INT(11) unsigned NOT NULL default '0',
                KEY (`admin_id`),
                PRIMARY KEY (`department_id`)
            ) Engine=InnoDB DEFAULT CHARSET UTF8;
        </item>
        <item for="install"> 
            CREATE TABLE `?:department_descriptions` (
                `department_id` INT(11) unsigned NOT NULL default '0',
                `lang_code` char(2) NOT NULL default '',
                `department` varchar(255) NOT NULL default '',
                `description` text null,
                PRIMARY KEY (`department_id`, `lang_code`)
            ) Engine=InnoDB DEFAULT CHARSET UTF8;
        </item>
        <item for="install">
            CREATE TABLE `?:department_links` (
                `department_id` INT(11) unsigned NOT NULL default '0',
                `user_ids` INT(11) unsigned NOT NULL default '0',
                KEY (`user_ids`),
                KEY (`department_id`),
                PRIMARY KEY (`department_id`, `user_ids`)
            ) Engine=InnoDB DEFAULT CHARSET UTF8;
        </item>
		 <item for="install">
            CREATE TABLE `?:department_usergroups_links` (
                `department_id` INT(11) unsigned NOT NULL default '0',
                `usergroup_ids` INT(11) unsigned NOT NULL default '0',
                KEY (`usergroup_ids`),
                KEY (`department_id`),
                PRIMARY KEY (`department_id`, `usergroup_ids`)
            ) Engine=InnoDB DEFAULT CHARSET UTF8;
        </item>
		<item for="uninstall">DROP TABLE IF EXISTS `?:departments`</item>
		<item for="uninstall">DROP TABLE IF EXISTS `?:department_descriptions`</item>
		<item for="uninstall">DROP TABLE IF EXISTS `?:department_links`</item>
		<item for="uninstall">DROP TABLE IF EXISTS `?:department_usergroups_links`</item>
    </queries>
</addon>
